<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8" />
        <title th:text="${source.title}"></title>
    </head>
    <body>

        <h1 th:text="${source.title}"></h1>
        <div th:switch="${type}">
            <!-- does inlining stuff here cause security vulnerabilities (eg. XSS)? -->
            <div th:case="'image'"><img th:src="${source.url}" th:alt="${source.title}"/></div>
            <div th:case="'html'">Link</div>
            <div th:case="'video'"><video th:src="${source.url}" autoplay="autoplay" preload="auto" loop="loop" controls="controls" /></div>
            <div th:case="'sound'">Sound</div>
        </div>
        <a th:href="${source.url}">Link</a>
        <br/>
        Tags:
        <ul>
            <li th:each="tag: ${source.tags}"><span th:text="${tag.value}">tag</span></li>
        </ul>
        <form th:action="@{/sources/{id}/tags(id=${source.id})}" name="tagform" th:method="POST">
            <p>Tag name: <input type="text" name="tagname"/></p>
            <input type="submit" name="addbutton" value="Add!"/>
        </form>
        <form th:action="@{/sources/{id}(id=${source.id})}" name="deleteform" th:method="DELETE">
            <input type="submit" name="deletebutton" value="Delete"/>
        </form>
    </body>
</html>
